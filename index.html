<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Happy Birthday Daphi ğŸ‚</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <!-- Intro Overlay -->
  <div id="intro-overlay">
    <div class="intro-content">
      <h1>ğŸ‚ Hey Birthday Girl! ğŸ‚</h1>
      <button id="startBtn">Click here ğŸ‰</button>
    </div>
  </div>

  <!-- Balloon Animation -->
  <div class="balloon-container">
    <div class="balloon red"></div>
    <div class="balloon blue"></div>
    <div class="balloon green"></div>
    <div class="balloon yellow"></div>
  </div>

  <!-- Confetti Canvas -->
  <canvas id="confetti-canvas"></canvas>

  <!-- Background Music -->
  <audio id="bg-music" autoplay loop>
    <source src="bg-music.mp3" type="audio/mp3">
    Your browser does not support the audio element.
  </audio>

  <!-- Main Content -->
  <div id="main-content" style="display: none;">
    <!-- Landing Section -->
    <section class="landing">
      <div class="content">
        <img src="assets/her_image.jpg" alt="Daphi" class="daphi-img" />
        <div class="text">
          <h1>Happy Birthday, Daphi! ğŸ‰</h1>
          <p>
            Today, the world celebrates someone truly special â€” you. <br>
            Your smile, your kindness, and your spirit make everything brighter. <br>
            I hope this day brings you as much joy as you bring to others. <br>
            May your year ahead be filled with adventures, laughter, and beautiful memories. <br>
            You deserve all the love, magic, and cake this world has to offer! ğŸ‚ğŸŒ¸
          </p>
          <div class="scroll-hint">
            <p>Keep Scrolling â¬‡ï¸</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Surprise Section -->
    <section id="surprise" class="surprise">
      <h2>Your Favorite Song ğŸ’–</h2>
      <div class="music-toggle-container" style="display: none;">
        <p class="music-toggle-text">
          ğŸ¶ Please click this & stop this background music to listen to your favourite song
        </p>
        <button id="toggleMusicBtn">ğŸ”‡ Mute Music</button>
      </div>
      <iframe
        id="spotify-embed"
        style="border-radius: 12px"
        src="https://open.spotify.com/embed/track/2RttW7RAu5nOAfq6YFvApB?si=e6eef206a3af43f9&theme=0"
        width="100%"
        height="152"
        frameborder="0"
        allowfullscreen=""
        allowtransparency="true"
        allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"
        loading="lazy"
      ></iframe>

      <div class="letter">
        <h3>A Letter for You ğŸ’Œ</h3>
        <p>
          Dear Daphi,<br><br>
          Today is all about you â€” a girl whose smile can light up the room and whose heart is even brighter. 
          Every time you laugh, it feels like the world becomes a bit more beautiful. 
          Youâ€™re kind, inspiring, and simply unforgettable. Watching you be you is something Iâ€™ll never get tired of. <br><br>
          On this special day, I just want you to know how amazing you are â€” not just today, but every single day. 
          I hope this birthday is as sweet and unforgettable as you. 
          May all your dreams come true, and may happiness always find its way to you. <br><br>
          With warmth and admiration,<br>
          <b>Manjit</b>
        </p>
      </div>
    </section>

    <!-- Footer -->
    <footer>
      <p>Made with â¤ï¸ by Manjit</p>
      <p>365 days until the next Daphi Day!</p>
    </footer>
  </div>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
  <script>

    const startBtn = document.getElementById("startBtn");
    const introOverlay = document.getElementById("intro-overlay");
    const mainContent = document.getElementById("main-content");
    const bgMusic = document.getElementById("bg-music");
    const spotifyEmbed = document.getElementById("spotify-embed");

    startBtn.addEventListener("click", () => {
      bgMusic.play();
      introOverlay.style.opacity = "0";
      setTimeout(() => {
        introOverlay.style.display = "none";
        mainContent.style.display = "block";
        mainContent.classList.add("fade-in");
      }, 1000);

      confetti({
        particleCount: 150,
        spread: 100,
        origin: { y: 0.6 },
      });
    });

    const backgroundMusic = document.getElementById("bg-music");
    const spotifyArea = document.getElementById("spotify-embed"); // wrap your Spotify element in a div with this ID
    
    let isSpotifyPlaying = false;
    
    function pauseBackgroundMusic() {
      if (!backgroundMusic.paused) {
       backgroundMusic.pause();
      }
    }
    
    function resumeBackgroundMusic() {
      if (!isSpotifyPlaying) {
        backgroundMusic.play().catch((e) => {
          console.warn("Autoplay prevented:", e);
        });
      }
    }
    
    spotifyArea.addEventListener("mouseenter", pauseBackgroundMusic);
    spotifyArea.addEventListener("mouseleave", resumeBackgroundMusic);
    
    spotifyArea.addEventListener("touchstart", pauseBackgroundMusic);
    spotifyArea.addEventListener("touchend", resumeBackgroundMusic);
    
    const spotifyPlayer = document.getElementById("spotify-embed");
    spotifyPlayer.addEventListener("play", () => {
      isSpotifyPlaying = true;
      pauseBackgroundMusic();
    });
    
    spotifyPlayer.addEventListener("pause", () => {
      isSpotifyPlaying = false;
      resumeBackgroundMusic();
    });
    
    spotifyEmbed.addEventListener("mouseenter", () => {
      bgMusic.pause();
    });

    spotifyEmbed.addEventListener("mouseleave", () => {
      setTimeout(() => {
        bgMusic.play();
      }, 1000);
    });
    
    const toggleMusicBtn = document.getElementById("toggleMusicBtn");
    const musicToggleContainer = document.querySelector(".music-toggle-container");
    
    startBtn.addEventListener("click", () => {
      bgMusic.play();
      introOverlay.style.opacity = "0";
      setTimeout(() => {
        introOverlay.style.display = "none";
        mainContent.style.display = "block";
        mainContent.classList.add("fade-in");
        musicToggleContainer.style.display = "block"; // Show text + button after intro
      }, 1000);
      
      confetti({
        particleCount: 150,
        spread: 100,
        origin: { y: 0.6 },
      });
    });
    
    // Toggle music play/pause
    toggleMusicBtn.addEventListener("click", () => {
      if (bgMusic.paused) {
        bgMusic.play();
        toggleMusicBtn.textContent = "ğŸ”‡ Mute Music";
      } else {
        bgMusic.pause();
        toggleMusicBtn.textContent = "ğŸ”Š Play Music";
      }
    });
  </script>
  
  <!-- ğŸŒ¸ Thank You Footer -->
  <footer class="text-center py-10 bg-pink-200 relative overflow-hidden text-gray-800">
    <!-- Floating hearts -->
    <div class="absolute inset-0 pointer-events-none">
      <div class="floating-footer-hearts">
        â¤ï¸ ğŸ’– ğŸ’• ğŸ’˜ ğŸ’— ğŸ’ ğŸ’“
      </div>
    </div>
    
    <div class="relative z-10">
      <h3 class="text-xl sm:text-2xl font-semibold mb-2">Thank you for being YOU ğŸ’•</h3>
      <p class="text-sm sm:text-base">You're genuinely one of a kind â€” donâ€™t you ever forget that ğŸŒŸ</p>
      <p class="mt-6 text-xs text-gray-600">~ Made with â¤ï¸ by Manjit ğŸ’Œ</p>
      <p class="mt-6 text-xs text-gray-600">~ 365 Days until the next Debdisha Day â˜ºï¸</p>
    </div>
  </footer>
</body>
</html>

